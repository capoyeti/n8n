{
  "id": "L6tFVixN1ALMD0kU",
  "name": "CleverMall RAG Agent - Nate",
  "active": false,
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "id": "47576136-9961-403b-a419-5af15a32e6bd",
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -480,
        -520
      ],
      "webhookId": "f61e1b9f-0f81-46b8-828e-668bfeeeb3eb"
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "e1baef44-cb7a-4206-a0a7-4fc1f34fe2ba",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        -480,
        -240
      ]
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "id": "c3e006af-0ab1-4a39-a135-40bd9a374f86",
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "typeVersion": 1.1,
      "position": [
        -340,
        -240
      ]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "ea96f27a-ffe5-4dbf-9f93-84c1c7940d49",
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        160,
        0
      ]
    },
    {
      "parameters": {
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {
          "queryName": "match_documents"
        }
      },
      "id": "d6d18516-424c-4ed9-b17f-19f1ac96fd62",
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1,
      "position": [
        -220,
        0
      ]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "a1ff0f6f-814e-4834-bbc7-6c3bda84eccc",
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.1,
      "position": [
        -300,
        180
      ]
    },
    {
      "parameters": {
        "name": "project_data",
        "description": "Retrieve information about the projects"
      },
      "id": "098e8f80-d180-4fa1-9c7f-2afb972767f4",
      "name": "Vector Store Tool",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        -20,
        -240
      ]
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful assistant. You will use the vector database to retrieve relevant information and respond to the user's query."
        }
      },
      "id": "6859cf63-b8c5-402f-9bb2-6e2f31d9c38c",
      "name": "RAG Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -300,
        -520
      ]
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "RAG Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Postgres Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Vector Store Tool",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Vector Store Tool",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Vector Store Tool": {
      "ai_tool": [
        [
          {
            "node": "RAG Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "tags": [
    {
      "updatedAt": "2025-02-13T15:24:44.659Z",
      "createdAt": "2025-02-13T15:24:44.659Z",
      "id": "eMxtBg4qWhWGQemu",
      "name": "supabase"
    }
  ],
  "staticData": null,
  "meta": {},
  "pinData": {}
}